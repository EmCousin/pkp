<div class="w-full max-w-2xl mx-auto px-4 py-8">
  <%= render 'dashboard/subscriptions/details', subscription: @subscription %>

  <%= form_for @subscription,
               url: dashboard_subscription_terms_path(@subscription),
               html: { class: "mt-6 animate-slide-in-from-left animation-duration-500" } do |form| %>
    <div class="bg-white rounded-xl shadow p-6 flex flex-col items-center">
      <div class="bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded relative mb-6" role="alert">
        <h3 class="font-bold"><%= t('.responsibility_discharge_title') %></h3>
        <% if @subscription.member.minor?(@subscription.year) %>
          <p class="block sm:inline"><%= t('.responsibility_discharge_minor_representative') %></p>
          <ol class="list-decimal list-inside">
            <li><%= t('.responsibility_discharge_minor_health_declaration') %></li>
            <li><%= t('.responsibility_discharge_minor_risks_declaration') %></li>
            <li><%= t('.responsibility_discharge_minor_commitment') %></li>
            <li><%= t('.responsibility_discharge_minor_responsibility') %></li>
          </ol>
        <% else %>
          <ol class="list-decimal list-inside">
            <li><%= t('.responsibility_discharge_health_declaration') %></li>
            <li><%= t('.responsibility_discharge_risks_declaration') %></li>
            <li><%= t('.responsibility_discharge_commitment') %></li>
            <li><%= t('.responsibility_discharge_responsibility') %></li>
          </ol>
        <% end %>
      </div>

      <div class="flex items-center space-x-3 mb-6">
        <%= form.switch :terms_accepted, required: true %>
        <%= form.label :terms_accepted, @subscription.member.minor?(@subscription.year) ? t('.terms_accepted_minor') : t('.terms_accepted'), class: "block font-medium text-gray-700" %>
      </div>

      <div class="flex flex-col sm:flex-row gap-3 w-full justify-center">
        <%= link_to t('defaults.back'),
                    :dashboard,
                    class: "inline-flex justify-center items-center px-6 py-2 border border-gray-300 shadow-sm text-base font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-800" %>
        <%= form.submit t('defaults.save'),
                        class: "inline-flex justify-center items-center px-6 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-indigo-700 hover:bg-indigo-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-700" %>
      </div>
    </div>
  <% end %>
</div>
