<div class="container">
  <%= link_to t('defaults.new', resource: User.model_name.human.downcase), new_admin_user_path, class: "btn btn-primary" %>

  <%= form_with(url: admin_users_path, local: true, method: "get", class: "form-inline") do %>
    <%= text_field_tag(:q, @search, class: "form-control mr-sm-2", placeholder: "Search") %>
    <%= submit_tag("Search", class: "btn btn-success") %>
  <% end %>

  <table class="table">
    <thead>
      <tr>
        <th><%= User.human_attribute_name(:full_name) %></th>
        <th><%= User.human_attribute_name(:phone_number) %></th>
        <th><%= User.human_attribute_name(:avatar) %></th>
        <th colspan="2" class="text-center">Action</th>
      </tr>
    </thead>

    <tbody>
      <% if @users.empty? %>
        <tr>
          <td colspan="9" class="text-center">
            <%= link_to t('.add_user'), new_admin_user_path, class: "btn btn-primary" %>
          </td>
        </tr>
      <% else %>
        <% @users.each do |user| %>
          <tr>
            <td><%= link_to user.full_name, admin_user_path(user.id) %></td>
            <td><%= user.phone_number %></td>
            <td><%= image_tag url_for(user.avatar), width: "30" %></td>
            <td><%= link_to t('defaults.edit'), edit_admin_user_path(user.id), class: "btn btn-outline-warning btn-sm" %></td>
            <td><%= link_to t('defaults.destroy'), admin_user_path(user.id), method: :delete, data: { confirm: t('defaults.are_you_sure') }, class: "btn btn-outline-danger btn-sm" %></td>
          </tr>
        <% end %>
      <% end %>
    </tbody>
  </table>
  <%= paginate @users %>
</div>
